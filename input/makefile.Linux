#!/bin/make
#======================================================================
#		makefile
#======================================================================


#----------------------------------------------------------------------
#   Notes:
#
#	To add a new file to the system, simply list its source and
#	object files immediately below, then run 'make dep' --- this 
#	will make the new dependencies
#

#----------------------------------------------------------------------
#                       Name of the library
#----------------------------------------------------------------------
LIBNAME = libvsInput.a

#----------------------------------------------------------------------
#			All Source and Object files
#----------------------------------------------------------------------
SRCS = \
       vs6DInputDevice.c++ \
       vsArticulationGlove.c++ \
       vsAscensionSerialTrackingSystem.c++ \
       vsChordGloves.c++ \
       vsCyberGloveBox.c++ \
       vsEthernetMotionStar.c++ \
       vsFastrak.c++ \
       vsFlockOfBirds.c++ \
       vsIS600.c++ \
       vsISTJoystickBox.c++ \
       vsInputAxis.c++ \
       vsInputButton.c++ \
       vsInputDevice.c++ \
       vsInputSystem.c++ \
       vsJoystick.c++ \
       vsJoystickBox.c++ \
       vsKeyboard.c++ \
       vsLinuxJoystickSystem.c++ \
       vsMotionTracker.c++ \
       vsMouse.c++ \
       vsNetworkInterface.c++ \
       vsPinchGloveBox.c++ \
       vsSerialMotionStar.c++ \
       vsSerialPort.c++ \
       vsSharedInputData.c++ \
       vsSpaceball.c++ \
       vsTrackingSystem.c++ \
       vsUDPNetworkInterface.c++ \
       vsUDPUnicastNetworkInterface.c++ \
       vsUnwinder.c++ \
       vsWSSpaceball.c++ \
       vsWindowSystem.c++

OBJS = \
       vs6DInputDevice.o \
       vsArticulationGlove.o \
       vsAscensionSerialTrackingSystem.o \
       vsChordGloves.o \
       vsCyberGloveBox.o \
       vsEthernetMotionStar.o \
       vsFastrak.o \
       vsFlockOfBirds.o \
       vsIS600.o \
       vsISTJoystickBox.o \
       vsInputAxis.o \
       vsInputButton.o \
       vsInputDevice.o \
       vsInputSystem.o \
       vsJoystick.o \
       vsJoystickBox.o \
       vsKeyboard.o \
       vsLinuxJoystickSystem.o \
       vsMotionTracker.o \
       vsMouse.o \
       vsNetworkInterface.o \
       vsPinchGloveBox.o \
       vsSerialMotionStar.o \
       vsSerialPort.o \
       vsSharedInputData.o \
       vsSpaceball.o \
       vsTrackingSystem.o \
       vsUDPNetworkInterface.o \
       vsUDPUnicastNetworkInterface.o \
       vsUnwinder.o \
       vsWSSpaceball.o \
       vsWindowSystem.o

#----------------------------------------------------------------------
#			Compiler settings
#----------------------------------------------------------------------
CC = gcc
CXX = g++
AR = ar
CFLAGS = -g -O -D__linux__ -D_MISC_SOURCE -D_BSD_SOURCE -D_XOPEN_SOURCE -ansi $(INCS)
CXXFLAGS = -g -O -D__linux__ -D_MISC_SOURCE -D_BSD_SOURCE -D_XOPEN_SOURCE -ansi $(INCS)
ARFLAGS = -rulc

#----------------------------------------------------------------------
#			Include file directories
#----------------------------------------------------------------------
include ../libpaths.Linux

INCS = \
       -I. \
       -I../math \
       -I../scene \
       -I../system \
       -I/usr/X11R6/include \
       -I/usr/include/g++-3 \
       -I/usr/include/g++-2 \
       -I/ist/projects/vr2/tools/services/abstractService2.2.5 \
       $(EXTRA_INCS)

#----------------------------------------------------------------------
#			Default target
#----------------------------------------------------------------------
all: $(LIBNAME)

#----------------------------------------------------------------------
#			Library archive rules
#----------------------------------------------------------------------
$(LIBNAME): $(OBJS)
	ar $(ARFLAGS) $(LIBNAME) $(OBJS)

#----------------------------------------------------------------------
#			Inference Rules
#----------------------------------------------------------------------
.SUFFIXES: .c .c++ .o .h .h++

.c++.o:
	$(CXX) $(CXXFLAGS) -c $< -o $*.o

.c.o:
	$(CXX) $(CXXFLAGS) -c $< -o $*.o

clean:
	rm -f *.o
	rm -f core
	rm -f $(LIBNAME)
	rm -f makefile.*.bak

#----------------------------------------------------------------------
#			This is the dependency update rule
#----------------------------------------------------------------------
dep: depend
depend:
	makedepend -f makefile.Linux -- $(CFLAGS) $(INCS) -- $(SRCS)


